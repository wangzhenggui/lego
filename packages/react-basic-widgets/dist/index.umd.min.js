!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("antd"),require("@ant-design/icons")):"function"==typeof define&&define.amd?define(["react","antd","@ant-design/icons"],t):(e="undefined"!=typeof globalThis?globalThis:e||self)["@apaas-lego/react-basic-widgets"]=t(e.React,e.antd,e.icons)}(this,(function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=r(e);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;arguments.length>t;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n,r,i,a,l){try{var o=e[a](l),p=o.value}catch(e){return void n(e)}o.done?t(p):Promise.resolve(p).then(r,i)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){return u=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw i}}return a}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);t>n;n++)r[n]=e[n];return r}var m="@apaas-lego/react-basic-widgets",f="form",g="container",b="basic",h=function(e){var t=e.label,n=e.colon,r=e.required;return{label:{title:"标题",type:"string",default:void 0===t?"":t},colon:{title:"是否有冒号",type:"boolean",default:void 0===n||n},required:{title:"必填",type:"boolean",default:void 0!==r&&r},placeholder:{title:"占位符",type:"string",default:e.placeholder},initialValue:{title:"初始值",type:"string",default:e.initialValue},extra:{title:"提示信息",type:"string",default:e.extra},name:{title:"字段名",type:"string",default:e.name}}},_={width:{title:"宽度",type:"string",required:!1},height:{title:"高度",type:"string",required:!1},background:{title:"背景色",type:"string"},layout:{type:"object",title:"布局",properties:{display:{title:"布局",type:"string",enum:["flex","block","inline-block"],enumNames:["flex","block","inline-block"],widget:"select",default:"block"},flexDirection:{title:"弹性布局方向",type:"string",enum:["row","column"],enumNames:["横向","纵向"],default:"row",hidden:"{{formData.layout.display !== 'flex'}}"},justifyContent:{title:"主轴方向",type:"string",enum:["flex-start","flex-end","center","space-around","space-between"],enumNames:["flex-start","flex-end","center","space-around","space-between"],default:"center",hidden:"{{formData.layout.display !== 'flex'}}"},alignItems:{title:"侧轴方向",type:"string",enum:["flex-start","flex-end","center","space-around","space-between"],enumNames:["flex-start","flex-end","center","space-around","space-between"],default:"center",hidden:"{{formData.layout.display !== 'flex'}}"}}},font:{type:"object",title:"文字",properties:{fontFamily:{title:"字体",description:"font-family",type:"string",required:!1},fontWidget:{type:"string",description:"font-widget",title:"字重",default:"normal",widget:"select",enum:["lighter","normal","100","200","300","400","500","600","700","800","900","bold","bolder"],enumNames:["lighter","normal","100","200","300","400","500","600","700","800","900","bold","bolder"]},fontStyle:{type:"string",title:"样式",description:"font-style",default:"normal",widget:"select",enum:["normal","italic"],enumNames:["正常","斜体"]},fontSize:{title:"字体大小",description:"font-size",type:"number",required:!1,default:14},lineHeight:{title:"行高",description:"line-height",type:"string",required:!1,default:"21px"},color:{title:"字体颜色",description:"color",type:"string",format:"color",default:"#000"},textAlign:{type:"string",description:"text-align",title:"对齐方式",default:"left",enum:["left","center","right","justify"],enumNames:["left","center","right","justify"]},textDecorationLine:{type:"string",description:"text-decoration-line",title:"装饰线",default:"none",enum:["none","underline","line-through"],enumNames:["none","下划线","横划线"]}}},margin:{type:"object",title:"外边距",properties:{marginTop:{title:"上边距",type:"string"},marginRight:{title:"右边距",type:"string"},marginBottom:{title:"下边距",type:"string"},marginLeft:{title:"左边距",type:"string"}}},padding:{type:"object",title:"内边距",properties:{paddingTop:{title:"上边距",type:"string"},paddingRight:{title:"右边距",type:"string"},paddingBottom:{title:"下边距",type:"string"},paddingLeft:{title:"左边距",type:"string"}}},border:{type:"object",title:"边框",properties:{borderStyle:{type:"string",title:"线形",default:"none",widget:"select",enum:["none","solid","dashed","dotted"],enumNames:["无","实线","虚线","点线"]},borderWidth:{type:"string",title:"线宽"},borderColor:{type:"string",title:"颜色",widget:"color"},borderRadius:{type:"string",title:"圆角"}}},cursor:{title:"鼠标手势",type:"string",enum:["default","pointer"],enumNames:["default","pointer"],widget:"select",default:"default"}},v=function(e){return i.default.createElement(t.Input,e)};v.schema={basicSchema:{type:"object",displayType:"column",properties:l({allowClear:{title:"清除图标",type:"boolean",required:!1},bordered:{title:"是否有边框",type:"boolean",required:!1,default:!0},maxLength:{title:"最大长度",type:"number",required:!1}},h({label:"输入框"}))},styleSchema:{type:"object",displayType:"column",properties:l({},_)},expandSchema:{type:"object",displayType:"column",properties:{didMount:{title:"组件加载后",type:"string",default:""}}},type:"ApaasInput",name:"输入框",__source__:m,__componentType__:f};var x="数字输入框",w=function(e){return i.default.createElement(t.InputNumber,e)};w.schema={basicSchema:{type:"object",displayType:"column",properties:l({max:{title:"最大值",type:"number",required:!1},min:{title:"最小值",type:"number",required:!1},reg:{title:"校验规则",type:"string",description:"正则表达式组件"}},h({label:x}))},styleSchema:{type:"object",displayType:"column",properties:l({},_)},expandSchema:{type:"object",displayType:"column",properties:{didMount:{title:"组件加载后",type:"string",default:""}}},type:"ApaasInputNumber",name:x,__source__:m,__componentType__:f};var T="多行输入框",j=function(e){return i.default.createElement(t.Input.TextArea,e)};j.schema={basicSchema:{type:"object",displayType:"column",properties:l({allowClear:{title:"清除图标",type:"boolean",required:!1},maxLength:{title:"最大长度",type:"number",required:!1},rows:{title:"行数",type:"number",default:4}},h({label:T}))},styleSchema:{type:"object",displayType:"column",properties:l({},_)},expandSchema:{type:"object",displayType:"column",properties:{didMount:{title:"组件加载后",type:"string",default:""}}},type:"ApaasTextArea",name:T,__source__:m,__componentType__:f};var S=function(e){return i.default.createElement(t.Form,e)};S.schema={basicSchema:{type:"object",displayType:"column",properties:{labelCol:{type:"object",displayType:"column",title:"label设置",properties:{span:{title:"span",type:"number",required:!1,default:3},offset:{title:"offset",type:"number",required:!1,default:0}}},wrapperCol:{type:"object",displayType:"column",title:"设置",properties:{span:{title:"span",type:"number",required:!1,default:9},offset:{title:"offset",type:"number",required:!1,default:0}}},initialValues:{title:"初始值",type:"string",required:!1,description:"表达式组件"},layout:{title:"布局方式",type:"string",required:!1,enum:["horizontal","vertical","inline"],enumNames:["水平","垂直","内联"],default:"horizontal"},labelAlign:{title:"对齐方式",type:"string",required:!1,enum:["left","right"],enumNames:["左","右"],default:"right"},onFinish:{title:"提交函数",type:"string",widget:"CodeEditor",required:!1,description:"函数表达式组件",default:"// 请填写提交函数 \n function submit() {}",props:{options:{selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!1},language:"javascript",width:"300",height:"200",theme:"vs-dark"}}}},styleSchema:{type:"object",displayType:"column",properties:l({},_)},expandSchema:{type:"object",displayType:"column",properties:{didMount:{title:"组件加载后",type:"string",widget:"CodeEditor",required:!1,description:"函数表达式组件"}}},type:"ApaasForm",name:"表单容器",__source__:m,__componentType__:g};var A=function(e){var n=e.names,r=void 0===n?[]:n,a=e.values,l=void 0===a?[]:a,o=e.isButton;return console.log("names",r,"values",l,"props",e),i.default.createElement(t.Radio.Group,e,l.map((function(e,n){return i.default.createElement(o?t.Radio.Button:t.Radio,{value:e,key:e},r[n])})))};A.schema={basicSchema:{type:"object",displayType:"column",properties:l({values:{title:"选项字段",type:"array",enum:["A","B","C"],enumNames:["A","B","C"],widget:"select",props:{mode:"tags"},default:["A","B","C"]},names:{title:"选项名称",type:"array",enum:["选项1","选项2","选项3"],enumNames:["选项1","选项2","选项3"],widget:"select",props:{mode:"tags"},default:["选项1","选项2","选项3"]},isButton:{title:"是否是按钮",type:"boolean",default:!1},buttonStyle:{title:"风格样式",type:"string",default:"solid",enum:["outline","solid"],enumNames:["描边","填色"],widget:"select"}},h({label:"单选框"}))},styleSchema:{type:"object",displayType:"column",properties:l({},_)},expandSchema:{type:"object",displayType:"column",properties:{didMount:{title:"组件加载后",type:"string",default:""}}},type:"ApaasRadio",name:"单选框",__source__:m,__componentType__:f};var C="下拉选择",E=function(e){var n=e.names,r=void 0===n?[]:n,a=e.values,l=void 0===a?[]:a,o=e.filterItem;return i.default.createElement(t.Select,u({},e,{optionFilterProp:"text",filterOption:e.showSearch?function(e,t){return console.log("input",e,"option",t),t[o].toLowerCase().indexOf(e.toLowerCase())>=0}:function(){}}),l.map((function(e,t){return i.default.createElement(Option,{value:e,key:e},r[t])})))};E.schema={basicSchema:{type:"object",displayType:"column",properties:l({values:{title:"选项字段",type:"array",enum:["A","B","C"],enumNames:["A","B","C"],widget:"select",props:{mode:"tags"},default:["A","B","C"]},names:{title:"选项名称",type:"array",enum:["选项1","选项2","选项3"],enumNames:["选项1","选项2","选项3"],widget:"select",props:{mode:"tags"},default:["选项1","选项2","选项3"]},showSearch:{title:"是否支持搜索",type:"boolean",default:!0},filterItem:{title:"过滤选项",type:"string",enumNames:["按值过滤","按文本过滤"],enum:["value","children"],widget:"select",default:"children"}},h({label:C}))},styleSchema:{type:"object",displayType:"column",properties:l({},_)},expandSchema:{type:"object",displayType:"column",properties:{didMount:{title:"组件加载后",type:"string",default:""}}},type:"ApaasSingleSelect",name:C,__source__:m,__componentType__:f};var q=function(e){var n=e.names,r=void 0===n?[]:n,a=e.values;return i.default.createElement(t.Checkbox.Group,e,(void 0===a?[]:a).map((function(e,n){return i.default.createElement(t.Checkbox,{value:e,key:e},r[n])})))};q.schema={basicSchema:{type:"object",displayType:"column",properties:l({values:{title:"选项字段",type:"array",enum:["A","B","C"],enumNames:["A","B","C"],widget:"select",props:{mode:"tags"},default:["A","B","C"]},names:{title:"选项名称",type:"array",enum:["选项1","选项2","选项3"],enumNames:["选项1","选项2","选项3"],widget:"select",props:{mode:"tags"},default:["选项1","选项2","选项3"]}},h({label:"多选框"}))},styleSchema:{type:"object",displayType:"column",properties:l({},_)},expandSchema:{type:"object",displayType:"column",properties:{didMount:{title:"组件加载后",type:"string",default:""}}},type:"ApaasCheckBox",name:"多选框",__source__:m,__componentType__:f};var N="下拉多选",O=function(e){var n=e.names,r=void 0===n?[]:n,a=e.values,l=e.filterItem;return i.default.createElement(t.Select,{mode:"multiple",optionFilterProp:"text",filterOption:function(e,t){return console.log("input",e,"option",t),t[l].toLowerCase().indexOf(e.toLowerCase())>=0}},(void 0===a?[]:a).map((function(e,t){return i.default.createElement(Option,{value:e,key:e},r[t])})))};O.schema={basicSchema:{type:"object",displayType:"column",properties:l({values:{title:"选项字段",type:"array",enum:["A","B","C"],enumNames:["A","B","C"],widget:"select",props:{mode:"tags"},default:["A","B","C"]},names:{title:"选项名称",type:"array",enum:["选项1","选项2","选项3"],enumNames:["选项1","选项2","选项3"],widget:"select",props:{mode:"tags"},default:["选项1","选项2","选项3"]},filterItem:{title:"过滤选项",type:"string",enumNames:["按值过滤","按文本过滤"],enum:["value","children"],widget:"select",default:"children"}},h({label:N}))},styleSchema:{type:"object",displayType:"column",properties:l({},_)},expandSchema:{type:"object",displayType:"column",properties:{didMount:{title:"组件加载后",type:"string",default:""}}},type:"ApaasMultSelect",name:N,__source__:m,__componentType__:f};var k=function(e){return i.default.createElement("DatePicker"===e.range?t.DatePicker:t.DatePicker.RangePicker,e)};k.schema={basicSchema:{type:"object",displayType:"column",properties:l({picker:{title:"选择器类型",type:"string",default:"date",enum:["date","week","month","quarter","year"],enumNames:["日","周","月","季度","年"],widget:"select"},range:{title:"日期选择类型",type:"string",default:"DatePicker",enum:["DatePicker","RangePicker"],enumNames:["日期","日期范围"],widget:"select"},allowClear:{title:"清除图标",type:"boolean",required:!0},showTime:{title:"显示时间",type:"boolean",required:!1}},h({label:"日期"}))},styleSchema:{type:"object",displayType:"column",properties:l({},_)},expandSchema:{type:"object",displayType:"column",properties:{didMount:{title:"组件加载后",type:"string",default:""}}},type:"ApaasDatePicker",name:"日期",__source__:m,__componentType__:f};var B="图片上传",P=function(){},M=function(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}}))},I=function(r){var a=r.value,p=r.onChange,u=r.beforeUpload,d=r.action,y=s(e.useState(void 0===a?[]:a),2),m=y[0],f=y[1],g=s(e.useState({}),2),b=g[0],h=g[1],_=function(e){var t=e.fileList;f(t),"function"==typeof p&&p(c(t))},v=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,M(t.originFileObj);case 3:t.preview=e.sent;case 4:h({previewImage:t.url||t.preview,previewVisible:!0,previewTitle:t.name||t.url.substring(t.url.lastIndexOf("/")+1)});case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,p,"next",e)}function p(e){o(a,r,i,l,p,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}(),x=function(){h(l(l({},b),{},{previewVisible:!1}))},w=i.default.createElement("div",null,i.default.createElement(n.PlusOutlined,null),i.default.createElement("div",{style:{marginTop:8}},"Upload"));return i.default.createElement((function(){return i.default.createElement(i.default.Fragment,null,i.default.createElement(t.Upload,{action:d,listType:"picture-card",fileList:m,onChange:_,onPreview:v,beforeUpload:u||P},8>m.length?w:null),i.default.createElement(t.Modal,{visible:b.previewVisible,title:b.previewTitle,footer:null,onCancel:x},i.default.createElement("img",{alt:"example",style:{width:"100%"},src:b.previewImage})))}),null)};I.schema={basicSchema:{type:"object",displayType:"column",properties:l({accept:{title:"接受类型",type:"string",required:!1,default:"",description:"请按照.png, .jpeg, .gif格式添写,中间,隔开"},action:{title:"上传地址",type:"string",required:!1},beforeUpload:{title:"上传之前处理",type:"string",required:!1,description:"后面使用函数表达式组件替换"},maxCount:{title:"最大上传个数",type:"number",min:1,default:1,widget:"slider"}},h({label:B}))},styleSchema:{type:"object",displayType:"column",properties:l({},_)},expandSchema:{type:"object",displayType:"column",properties:{didMount:{title:"组件加载后",type:"string",default:""}}},type:"ApaasImageUpload",name:B,__source__:m,__componentType__:f};var D=function(e){return i.default.createElement("span",{style:e.styles},e.content)};D.schema={basicSchema:{type:"object",displayType:"column",properties:{content:{title:"文本内容",type:"string",required:!0,default:"文本"}}},styleSchema:{type:"object",displayType:"column",properties:l({},_)},expandSchema:{type:"object",displayType:"column",properties:{didMount:{title:"组件加载后",type:"string",default:""}}},type:"ApaasText",name:"文本",__source__:m,__componentType__:b,__componentLayout__:"inline",__isNeedCommonStyleConfig__:!0};var L=function(e){var t=e.children,n=e.styles;return console.log("BOX",n),i.default.createElement("div",{style:n},t)};L.schema={basicSchema:{type:"object",displayType:"column",properties:{}},styleSchema:{type:"object",displayType:"column",properties:l({},_)},expandSchema:{type:"object",displayType:"column",properties:{didMount:{title:"组件加载后",type:"string",default:""}}},type:"ApaasBox",name:"Box",__source__:m,__componentType__:g};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".container{background-color:#f0f0f0;border:1px dotted;color:#a7b1bd;max-height:572px;padding:20px;overflow:auto;margin-top:16px}.titleWrap{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.titleName{color:#333;font-size:16px}");var R=function(e){var r=e.children,a=e.cancelText,l=e.okText;return i.default.createElement("div",{style:e.styles},i.default.createElement("div",{className:"titleWrap"},i.default.createElement("span",{className:"titleName"},e.title),i.default.createElement(n.CloseOutlined,null)),r||i.default.createElement("div",{className:"container"},"拖拽组件或者模版到这里"),i.default.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"16px"}},i.default.createElement(t.Button,{type:"default"},a),i.default.createElement(t.Button,{type:"primary",style:{marginLeft:"16px"}},l)))};R.schema={basicSchema:{type:"object",displayType:"column",properties:{title:{title:"标题",type:"string",default:"标题"},visible:{title:"展示",type:"string"},cancelText:{title:"取消文案",type:"string",default:"取消"},okText:{title:"确定文案",type:"string",default:"确定"}}},styleSchema:{type:"object",displayType:"column",properties:l({},_)},expandSchema:{type:"object",displayType:"column",properties:{didMount:{title:"组件加载后",type:"string",default:""}}},type:"ApaasModal",name:"对话框",__source__:m,__componentType__:g};var F=function(e){return i.default.createElement(t.Button,e)};return F.schema={basicSchema:{type:"object",displayType:"column",properties:{loading:{title:"loading功能",type:"boolean",required:!1,default:!1},type:{title:"按钮类型",type:"string",enum:["primary","ghost","dashed","link","text","default"],enumNames:["primary","ghost","dashed","link","text","default"],widget:"select",default:"default"},children:{title:"按钮内容",type:"string",required:!0,default:"按钮"}}},styleSchema:{type:"object",displayType:"column",properties:l({},_)},expandSchema:{type:"object",displayType:"column",properties:{events:{title:"绑定动作",type:"object",widget:"BindAction",required:!1,default:{},props:{actions:["onClick"]}},lifeCycle:{title:"生命周期",type:"object",properties:{didMount:{title:"组件加载完成时",description:"didMount",type:"string",required:!1},unMount:{title:"组件销毁时",description:"unMount",type:"string",required:!1}},default:{}}}},type:"ApaasButton",name:"按钮",__source__:m,__componentType__:b},{ApaasText:D,ApaasBox:L,ApaasInput:v,ApaasInputNumber:w,ApaasTextArea:j,ApaasRadio:A,ApaasCheckBox:q,ApaasSingleSelect:E,ApaasMultSelect:O,ApaasDatePicker:k,ApaasImageUpload:I,ApaasModal:R,ApaasForm:S,ApaasButton:F}}));
